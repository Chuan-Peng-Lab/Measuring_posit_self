scale_y_continuous(limits = c(0, 1), breaks = seq(0, 1, 0.15),expand = c(0, 0)) +
guides(fill = FALSE)+
theme_minimal()  +
labs(
x = "condition",
y = "ACC",
title = "ACC of ALT1 in Different condition",
caption = "Error bars indicate a standard error"
)  +
theme(
plot.title = element_text(size = 20,
face = "bold",
margin = margin(b = 35)),
axis.line = element_line(color = "#3D4852"),
axis.ticks = element_line(color = "#3D4852"),
panel.grid.major.y = element_line(color = "#DAE1E7"),
panel.grid.major.x = element_blank(),
panel.grid.minor.y = element_blank()
)
print(ALT1_plot_ACC)
ALT1_plot_ACC <- ALT1_data2%>%
ggplot(., aes(x = condition, y = mean_acc, fill = conditionType)) +
geom_bar(stat = "identity", position = position_dodge(), na.rm = TRUE) +
geom_errorbar(aes(ymin = mean_acc - se_acc, ymax = mean_acc + se_acc), position = position_dodge(width = 0.8), width = 0.25)+
scale_fill_grey(start = 0.3) +
scale_y_continuous(limits = c(0, 1), breaks = seq(0, 1, 0.2),expand = c(0, 0)) +
guides(fill = FALSE)+
theme_minimal()  +
labs(
x = "condition",
y = "ACC",
title = "ACC of ALT1 in Different condition",
caption = "Error bars indicate a standard error"
)  +
theme(
plot.title = element_text(size = 20,
face = "bold",
margin = margin(b = 35)),
axis.line = element_line(color = "#3D4852"),
axis.ticks = element_line(color = "#3D4852"),
panel.grid.major.y = element_line(color = "#DAE1E7"),
panel.grid.major.x = element_blank(),
panel.grid.minor.y = element_blank()
)
print(ALT1_plot_ACC)
ALT1_plot_rt <- ALT1_data2%>%
ggplot(., aes(x = condition, y = mean_rt, fill = conditionType)) +
geom_bar(stat = "identity", position = position_dodge()) +
geom_errorbar(aes(ymin = mean_rt - se_rt, ymax = mean_rt + se_rt), position = position_dodge(width = 0.8), width = 0.25)+
scale_fill_grey(start = 0.3) +
scale_y_continuous(limits = c(200, 1200), expand = c(0, 0)) +
guides(fill = FALSE)+
theme_minimal()  +
labs(
x = "condition",
y = "RT",
title = "RT of ALT1 in Different condition",
caption = "Error bars indicate a standard error"
)  +
theme(
plot.title = element_text(size = 20,
face = "bold",
margin = margin(b = 35)),
axis.line = element_line(color = "#3D4852"),
axis.ticks = element_line(color = "#3D4852"),
panel.grid.major.y = element_line(color = "#DAE1E7"),
panel.grid.major.x = element_blank(),
panel.grid.minor.y = element_blank()
)
print(ALT1_plot_rt)
ALT1_plot_rt <- ALT1_data2%>%
ggplot(., aes(x = condition, y = mean_rt, fill = conditionType)) +
geom_bar(stat = "identity", position = position_dodge()) +
geom_errorbar(aes(ymin = mean_rt - se_rt, ymax = mean_rt + se_rt), position = position_dodge(width = 0.8), width = 0.25)+
scale_fill_grey(start = 0.3) +
scale_y_continuous(limits = c(0, 1200), expand = c(0, 0)) +
guides(fill = FALSE)+
theme_minimal()  +
labs(
x = "condition",
y = "RT",
title = "RT of ALT1 in Different condition",
caption = "Error bars indicate a standard error"
)  +
theme(
plot.title = element_text(size = 20,
face = "bold",
margin = margin(b = 35)),
axis.line = element_line(color = "#3D4852"),
axis.ticks = element_line(color = "#3D4852"),
panel.grid.major.y = element_line(color = "#DAE1E7"),
panel.grid.major.x = element_blank(),
panel.grid.minor.y = element_blank()
)
print(ALT1_plot_rt)
ALT1_plot_rt <- ALT1_data2%>%
ggplot(., aes(x = condition, y = mean_rt, fill = conditionType)) +
geom_bar(stat = "identity", position = position_dodge()) +
geom_errorbar(aes(ymin = mean_rt - se_rt, ymax = mean_rt + se_rt), position = position_dodge(width = 0.8), width = 0.25)+
scale_fill_grey(start = 0.3) +
scale_y_continuous(limits = c(0, 900), breaks = seq(0, 900, 150), expand = c(0, 0)) +
guides(fill = FALSE)+
theme_minimal()  +
labs(
x = "condition",
y = "RT",
title = "RT of ALT1 in Different condition",
caption = "Error bars indicate a standard error"
)  +
theme(
plot.title = element_text(size = 20,
face = "bold",
margin = margin(b = 35)),
axis.line = element_line(color = "#3D4852"),
axis.ticks = element_line(color = "#3D4852"),
panel.grid.major.y = element_line(color = "#DAE1E7"),
panel.grid.major.x = element_blank(),
panel.grid.minor.y = element_blank()
)
print(ALT1_plot_rt)
ALT1_plot_ACC <- ALT1_data2%>%
ggplot(., aes(x = condition, y = mean_acc, fill = conditionType)) +
geom_bar(stat = "identity", position = position_dodge(), na.rm = TRUE) +
geom_errorbar(aes(ymin = mean_acc - se_acc, ymax = mean_acc + se_acc), position = position_dodge(width = 0.8), width = 0.25)+
scale_fill_grey(start = 0.3) +
scale_y_continuous(limits = c(0, 1), breaks = seq(0, 1, 0.1),expand = c(0, 0)) +
guides(fill = FALSE)+
theme_minimal()  +
labs(
x = "condition",
y = "ACC",
title = "ACC of ALT1 in Different condition",
caption = "Error bars indicate a standard error"
)  +
theme(
plot.title = element_text(size = 20,
face = "bold",
margin = margin(b = 35)),
axis.line = element_line(color = "#3D4852"),
axis.ticks = element_line(color = "#3D4852"),
panel.grid.major.y = element_line(color = "#DAE1E7"),
panel.grid.major.x = element_blank(),
panel.grid.minor.y = element_blank()
)
print(ALT1_plot_ACC)
ALT1_plot_ACC <- ALT1_data2%>%
ggplot(., aes(x = condition, y = mean_acc, fill = conditionType)) +
geom_bar(stat = "identity", position = position_dodge(), na.rm = TRUE) +
geom_errorbar(aes(ymin = mean_acc - se_acc, ymax = mean_acc + se_acc), position = position_dodge(width = 0.8), width = 0.25)+
scale_fill_grey(start = 0.3) +
scale_y_continuous(limits = c(0, 1), breaks = seq(0, 1, 0.1),expand = c(0, 0)) +
guides(fill = guide_legend(title = "Condition Type"))+
theme_minimal()  +
labs(
x = "condition",
y = "ACC",
title = "ACC of ALT1 in Different condition",
caption = "Error bars indicate a standard error"
)  +
theme(
plot.title = element_text(size = 20,
face = "bold",
margin = margin(b = 35)),
axis.line = element_line(color = "#3D4852"),
axis.ticks = element_line(color = "#3D4852"),
panel.grid.major.y = element_line(color = "#DAE1E7"),
panel.grid.major.x = element_blank(),
panel.grid.minor.y = element_blank()
)
print(ALT1_plot_ACC)
ALT1_plot_ACC <- ALT1_data2%>%
ggplot(., aes(x = condition, y = mean_acc, fill = conditionType)) +
geom_bar(stat = "identity", position = position_dodge(), na.rm = TRUE) +
geom_errorbar(aes(ymin = mean_acc - se_acc, ymax = mean_acc + se_acc), position = position_dodge(width = 0.8), width = 0.25)+
scale_fill_grey(start = 0.3) +
scale_y_continuous(limits = c(0, 1), breaks = seq(0, 1, 0.1),expand = c(0, 0)) +
guides(fill = guide_legend(title = "Identity"))+
theme_minimal()  +
labs(
x = "condition",
y = "ACC",
title = "ACC of ALT1 in Different condition",
caption = "Error bars indicate a standard error"
)  +
theme(
plot.title = element_text(size = 20,
face = "bold",
margin = margin(b = 35)),
axis.line = element_line(color = "#3D4852"),
axis.ticks = element_line(color = "#3D4852"),
panel.grid.major.y = element_line(color = "#DAE1E7"),
panel.grid.major.x = element_blank(),
panel.grid.minor.y = element_blank()
)
print(ALT1_plot_ACC)
ALT1_plot_rt <- ALT1_data2%>%
ggplot(., aes(x = condition, y = mean_rt, fill = conditionType)) +
geom_bar(stat = "identity", position = position_dodge()) +
geom_errorbar(aes(ymin = mean_rt - se_rt, ymax = mean_rt + se_rt), position = position_dodge(width = 0.8), width = 0.25)+
scale_fill_grey(start = 0.3) +
scale_y_continuous(limits = c(0, 900), breaks = seq(0, 900, 150), expand = c(0, 0)) +
guides(fill = guide_legend(title = "Identity"))+
theme_minimal()  +
labs(
x = "condition",
y = "RT",
title = "RT of ALT1 in Different condition",
caption = "Error bars indicate a standard error"
)  +
theme(
plot.title = element_text(size = 20,
face = "bold",
margin = margin(b = 35)),
axis.line = element_line(color = "#3D4852"),
axis.ticks = element_line(color = "#3D4852"),
panel.grid.major.y = element_line(color = "#DAE1E7"),
panel.grid.major.x = element_blank(),
panel.grid.minor.y = element_blank()
)
print(ALT1_plot_rt)
ALT1_RT <-ALT1_data%>%
#ungroup()%>%
MANOVA(., dv = "avg_rt", subID="ID",
within=c("conditionType", "condition"),
sph.correction="GG") %>%
EMMEANS("conditionType", by = "condition") %>%
EMMEANS("condition", by = "conditionType")
print(ALT1_RT)
ALT1_plot_rt <- ALT1_data2%>%
ggplot(., aes(x = condition, y = mean_rt, fill = conditionType)) +
geom_bar(stat = "identity", position = position_dodge()) +
geom_errorbar(aes(ymin = mean_rt - se_rt, ymax = mean_rt + se_rt), position = position_dodge(width = 0.8), width = 0.25)+
scale_fill_grey(start = 0.3) +
scale_y_continuous(limits = c(0, 900), breaks = seq(0, 900, 50), expand = c(0, 0)) +
guides(fill = guide_legend(title = "Identity"))+
theme_minimal()  +
labs(
x = "condition",
y = "RT",
title = "RT of ALT1 in Different condition",
caption = "Error bars indicate a standard error"
)  +
theme(
plot.title = element_text(size = 20,
face = "bold",
margin = margin(b = 35)),
axis.line = element_line(color = "#3D4852"),
axis.ticks = element_line(color = "#3D4852"),
panel.grid.major.y = element_line(color = "#DAE1E7"),
panel.grid.major.x = element_blank(),
panel.grid.minor.y = element_blank()
)
print(ALT1_plot_rt)
getwd() #查看工作目录，work directory is 'Measuring_Pos_Self/4.Analysis/Data/descrip/preprocess'
list.files("../../../",pattern = "\\.csv$", full.names = TRUE)
list.files("../../../",pattern = "\\.xlxs$", full.names = TRUE)
list.files("../../",pattern = "\\.xlxs$", full.names = TRUE)
getwd()
list.files("../../", full.names = TRUE)
list.files("../../../", full.names = TRUE)
list.files("../../../../", full.names = TRUE)
list.files("../../../../",pattern = "\\.xlxs$", full.names = TRUE)
list.files("../../../..",pattern = "\\.xlxs$", full.names = TRUE)
list.files("../../../../",pattern = "*.xlxs$", full.names = TRUE)
list.files("../../../../",pattern = "\*.xlxs$", full.names = TRUE)
list.files("../../../../",pattern = "\\.xlsx$", full.names = TRUE)
files<-list.files("../../../../",pattern = "\\.xlsx$", full.names = TRUE)
for (file in files) {
tmp <- read.csv(file, header = TRUE, sep = ",", stringsAsFactors = FALSE, fileEncoding = "UTF-8")  # 逐个读取csv文件，fileEncoding可能为UTF-8 或 GBK
if (is.null(combined_data)) {
combined_data <- tmp
} else {
combined_data <- rbind(combined_data, tmp)
}
}
for (file in files) {
tmp <- read.csv(file, header = TRUE, sep = ",", stringsAsFactors = FALSE, fileEncoding = "UTF-8")  # 逐个读取csv文件，fileEncoding可能为UTF-8 或 GBK
if (is.null(combined_data)) {
combined_data <- tmp
} else {
combined_data <- rbind(combined_data, tmp)
}
write.csv(combined_data,"../../../../phase_06_exclud_subj.xlsx", row.names = FALSE)
}
files<-list.files("../../../../",pattern = "\\.xlsx$", full.names = TRUE)
for (file in files) {
tmp <- read.xlsx(file)  # 逐个读取csv文件，fileEncoding可能为UTF-8 或 GBK
if (is.null(combined_data)) {
combined_data <- tmp
} else {
combined_data <- rbind(combined_data, tmp)
}
write.xlsx(combined_data,"../../../../phase_06_exclud_subj.xlsx", row.names = FALSE)
}
# 加载所需要的R包
pacman::p_load("tidyverse","openxlsx","here","tidyverse","bruceR","ggplot2","psych","psychTools","DataExplorer")
files<-list.files("../../../../",pattern = "\\.xlsx$", full.names = TRUE)
for (file in files) {
tmp <- read.xlsx(file)  # 逐个读取csv文件，fileEncoding可能为UTF-8 或 GBK
if (is.null(combined_data)) {
combined_data <- tmp
} else {
combined_data <- rbind(combined_data, tmp)
}
write.xlsx(combined_data,"../../../../phase_06_exclud_subj.xlsx", row.names = FALSE)
}
files<-list.files("../../../../",pattern = "\\.xlsx$", full.names = TRUE)
combined_data <- NULL
for (file in files) {
tmp <- read.xlsx(file)  # 逐个读取csv文件，fileEncoding可能为UTF-8 或 GBK
if (is.null(combined_data)) {
combined_data <- tmp
} else {
combined_data <- rbind(combined_data, tmp)
}}
write.xlsx(combined_data,"../../../../phase_06_exclud_subj.xlsx", row.names = FALSE)
files<-list.files("../../../../",pattern = "\\.xlsx$", full.names = TRUE)
combined_data <- NULL
for (file in files) {
tmp <- read.xlsx(file)  # 逐个读取csv文件，fileEncoding可能为UTF-8 或 GBK
if (is.null(combined_data)) {
combined_data <- tmp
} else {
combined_data <- rbind(combined_data, tmp)
}}
write.xlsx(combined_data,"../../../../phase_06_exclud_subj.xlsx", rowNames = FALSE)
ALT1_plot_rt <- ALT1_data2%>%
ggplot(., aes(x = condition, y = mean_rt, fill = conditionType)) +
geom_bar(stat = "identity", position = position_dodge()) +
geom_errorbar(aes(ymin = mean_rt - se_rt, ymax = mean_rt + se_rt), position = position_dodge(width = 0.8), width = 0.25)+
geom_text(
aes(label = round(mean_rt)),  # Add labels rounded to the nearest integer
position = position_dodge(width = 0.8),
vjust = -0.5,  # Adjust vertical position of labels
size = 3  # Adjust label size if needed
)+
scale_fill_grey(start = 0.3) +
scale_y_continuous(limits = c(0, 900), breaks = seq(0, 900, 50), expand = c(0, 0)) +
guides(fill = guide_legend(title = "Identity"))+
theme_minimal()  +
labs(
x = "condition",
y = "RT",
title = "RT of ALT1 in Different condition",
caption = "Error bars indicate a standard error"
)  +
theme(
plot.title = element_text(size = 20,
face = "bold",
margin = margin(b = 35)),
axis.line = element_line(color = "#3D4852"),
axis.ticks = element_line(color = "#3D4852"),
panel.grid.major.y = element_line(color = "#DAE1E7"),
panel.grid.major.x = element_blank(),
panel.grid.minor.y = element_blank()
)
print(ALT1_plot_rt)
ALT1_plot_rt <- ALT1_data2%>%
ggplot(., aes(x = condition, y = mean_rt, fill = conditionType)) +
geom_bar(stat = "identity", position = position_dodge()) +
geom_errorbar(aes(ymin = mean_rt - se_rt, ymax = mean_rt + se_rt), position = position_dodge(width = 0.8), width = 0.25)+
geom_text(
aes(label = round(mean_rt)),  # Add labels rounded to the nearest integer
position = position_dodge(width = 0.8),
vjust = -0.8,  # Adjust vertical position of labels
size = 3  # Adjust label size if needed
)+
scale_fill_grey(start = 0.3) +
scale_y_continuous(limits = c(0, 900), breaks = seq(0, 900, 50), expand = c(0, 0)) +
guides(fill = guide_legend(title = "Identity"))+
theme_minimal()  +
labs(
x = "condition",
y = "RT",
title = "RT of ALT1 in Different condition",
caption = "Error bars indicate a standard error"
)  +
theme(
plot.title = element_text(size = 20,
face = "bold",
margin = margin(b = 35)),
axis.line = element_line(color = "#3D4852"),
axis.ticks = element_line(color = "#3D4852"),
panel.grid.major.y = element_line(color = "#DAE1E7"),
panel.grid.major.x = element_blank(),
panel.grid.minor.y = element_blank()
)
print(ALT1_plot_rt)
ALT1_plot_ACC <- ALT1_data2%>%
ggplot(., aes(x = condition, y = mean_acc, fill = conditionType)) +
geom_bar(stat = "identity", position = position_dodge(), na.rm = TRUE) +
geom_errorbar(aes(ymin = mean_acc - se_acc, ymax = mean_acc + se_acc), position = position_dodge(width = 0.8), width = 0.25)+
geom_text(
aes(label = round(mean_acc)),  # Add labels rounded to the nearest integer
position = position_dodge(width = 0.8),
vjust = -0.8,  # Adjust vertical position of labels
size = 3  # Adjust label size if needed
)+
scale_fill_grey(start = 0.3) +
scale_y_continuous(limits = c(0, 1), breaks = seq(0, 1, 0.1),expand = c(0, 0)) +
guides(fill = guide_legend(title = "Identity"))+
theme_minimal()  +
labs(
x = "condition",
y = "ACC",
title = "ACC of ALT1 in Different condition",
caption = "Error bars indicate a standard error"
)  +
theme(
plot.title = element_text(size = 20,
face = "bold",
margin = margin(b = 35)),
axis.line = element_line(color = "#3D4852"),
axis.ticks = element_line(color = "#3D4852"),
panel.grid.major.y = element_line(color = "#DAE1E7"),
panel.grid.major.x = element_blank(),
panel.grid.minor.y = element_blank()
)
print(ALT1_plot_ACC)
ALT1_plot_ACC <- ALT1_data2%>%
ggplot(., aes(x = condition, y = mean_acc, fill = conditionType)) +
geom_bar(stat = "identity", position = position_dodge(), na.rm = TRUE) +
geom_errorbar(aes(ymin = mean_acc - se_acc, ymax = mean_acc + se_acc), position = position_dodge(width = 0.8), width = 0.25)+
geom_text(
aes(label = round(mean_acc, digits = 2)),  # Add labels rounded to the nearest integer
position = position_dodge(width = 0.8),
vjust = -0.8,  # Adjust vertical position of labels
size = 3  # Adjust label size if needed
)+
scale_fill_grey(start = 0.3) +
scale_y_continuous(limits = c(0, 1), breaks = seq(0, 1, 0.1),expand = c(0, 0)) +
guides(fill = guide_legend(title = "Identity"))+
theme_minimal()  +
labs(
x = "condition",
y = "ACC",
title = "ACC of ALT1 in Different condition",
caption = "Error bars indicate a standard error"
)  +
theme(
plot.title = element_text(size = 20,
face = "bold",
margin = margin(b = 35)),
axis.line = element_line(color = "#3D4852"),
axis.ticks = element_line(color = "#3D4852"),
panel.grid.major.y = element_line(color = "#DAE1E7"),
panel.grid.major.x = element_blank(),
panel.grid.minor.y = element_blank()
)
print(ALT1_plot_ACC)
ALT1_plot_ACC <- ALT1_data2%>%
ggplot(., aes(x = condition, y = mean_acc, fill = conditionType)) +
geom_bar(stat = "identity", position = position_dodge(), na.rm = TRUE) +
geom_errorbar(aes(ymin = mean_acc - se_acc, ymax = mean_acc + se_acc), position = position_dodge(width = 0.8), width = 0.25)+
geom_text(
aes(label = round(mean_acc, digits = 2)),  # Add labels rounded to the nearest integer
position = position_dodge(width = 0.6),
vjust = -0.8,  # Adjust vertical position of labels
size = 3  # Adjust label size if needed
)+
scale_fill_grey(start = 0.3) +
scale_y_continuous(limits = c(0, 1), breaks = seq(0, 1, 0.1),expand = c(0, 0)) +
guides(fill = guide_legend(title = "Identity"))+
theme_minimal()  +
labs(
x = "condition",
y = "ACC",
title = "ACC of ALT1 in Different condition",
caption = "Error bars indicate a standard error"
)  +
theme(
plot.title = element_text(size = 20,
face = "bold",
margin = margin(b = 35)),
axis.line = element_line(color = "#3D4852"),
axis.ticks = element_line(color = "#3D4852"),
panel.grid.major.y = element_line(color = "#DAE1E7"),
panel.grid.major.x = element_blank(),
panel.grid.minor.y = element_blank()
)
print(ALT1_plot_ACC)
ALT1_plot_ACC <- ALT1_data2%>%
ggplot(., aes(x = condition, y = mean_acc, fill = conditionType)) +
geom_bar(stat = "identity", position = position_dodge(), na.rm = TRUE) +
geom_errorbar(aes(ymin = mean_acc - se_acc, ymax = mean_acc + se_acc), position = position_dodge(width = 0.8), width = 0.25)+
geom_text(
aes(label = round(mean_acc, digits = 2)),  # Add labels rounded to the nearest integer
position = position_dodge(width = 0.6),
vjust = -0.8,  # Adjust vertical position of labels
size = 3  # Adjust label size if needed
)+
scale_fill_grey(start = 0.3) +
scale_y_continuous(limits = c(0, 1), breaks = seq(0, 1, 0.1),expand = c(0, 0.1)) +
guides(fill = guide_legend(title = "Identity"))+
theme_minimal()  +
labs(
x = "condition",
y = "ACC",
title = "ACC of ALT1 in Different condition",
caption = "Error bars indicate a standard error"
)  +
theme(
plot.title = element_text(size = 20,
face = "bold",
margin = margin(b = 35)),
axis.line = element_line(color = "#3D4852"),
axis.ticks = element_line(color = "#3D4852"),
panel.grid.major.y = element_line(color = "#DAE1E7"),
panel.grid.major.x = element_blank(),
panel.grid.minor.y = element_blank()
)
print(ALT1_plot_ACC)
