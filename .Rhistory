# 载入所需的库
library(tidyverse)
setwd("C:/Users/Cesare/Desktop/SEE-RE/Measuring_posit_self/6.Raw_data/raw_data/Raw_data_day0")
# 获取 Rawdata 文件夹下所有子文件夹的路径
subfolders <- list.dirs(".", full.names = FALSE, recursive = FALSE)
# 遍历每个子文件夹
for (folder in subfolders) {
# 获取子文件夹中所有文件的路径
files <- list.files(folder, full.names = TRUE)
# 过滤出符合命名模式的文件
pattern <- "jsPsych_.*_\\d+_jsPsych\\.csv" # 请根据实际情况调整正则表达式
matched_files <- files[str_detect(files, pattern)]
# 重命名每个文件
for (file in matched_files) {
# 提取用户 ID
user_id <- str_extract(file, "(\\d+)_jsPsych\\.csv$")
# 获取文件的完整路径
file_path <- dirname(file)
# 重命名文件
file.rename(file, file.path(file_path,user_id))
}
}
setwd("C:/Users/Cesare/Desktop/SEE-RE/Measuring_posit_self/6.Raw_data/raw_data/Raw_data_day1")
# 获取 Rawdata 文件夹下所有子文件夹的路径
subfolders <- list.dirs(".", full.names = FALSE, recursive = FALSE)
# 遍历每个子文件夹
for (folder in subfolders) {
# 获取子文件夹中所有文件的路径
files <- list.files(folder, full.names = TRUE)
# 过滤出符合命名模式的文件
pattern <- "jsPsych_.*_\\d+_jsPsych\\.csv" # 请根据实际情况调整正则表达式
matched_files <- files[str_detect(files, pattern)]
# 重命名每个文件
for (file in matched_files) {
# 提取用户 ID
user_id <- str_extract(file, "(\\d+)_jsPsych\\.csv$")
# 获取文件的完整路径
file_path <- dirname(file)
# 重命名文件
file.rename(file, file.path(file_path,user_id))
}
}
setwd("C:/Users/Cesare/Desktop/SEE-RE/Measuring_posit_self/6.Raw_data/raw_data/Raw_data_day2")
# 获取 Rawdata 文件夹下所有子文件夹的路径
subfolders <- list.dirs(".", full.names = FALSE, recursive = FALSE)
# 遍历每个子文件夹
for (folder in subfolders) {
# 获取子文件夹中所有文件的路径
files <- list.files(folder, full.names = TRUE)
# 过滤出符合命名模式的文件
pattern <- "jsPsych_.*_\\d+_jsPsych\\.csv" # 请根据实际情况调整正则表达式
matched_files <- files[str_detect(files, pattern)]
# 重命名每个文件
for (file in matched_files) {
# 提取用户 ID
user_id <- str_extract(file, "(\\d+)_jsPsych\\.csv$")
# 获取文件的完整路径
file_path <- dirname(file)
# 重命名文件
file.rename(file, file.path(file_path,user_id))
}
}
setwd("C:/Users/Cesare/Desktop/SEE-RE/Measuring_posit_self/6.Raw_data/raw_data/Raw_data_day3")
# 获取 Rawdata 文件夹下所有子文件夹的路径
subfolders <- list.dirs(".", full.names = FALSE, recursive = FALSE)
# 遍历每个子文件夹
for (folder in subfolders) {
# 获取子文件夹中所有文件的路径
files <- list.files(folder, full.names = TRUE)
# 过滤出符合命名模式的文件
pattern <- "jsPsych_.*_\\d+_jsPsych\\.csv" # 请根据实际情况调整正则表达式
matched_files <- files[str_detect(files, pattern)]
# 重命名每个文件
for (file in matched_files) {
# 提取用户 ID
user_id <- str_extract(file, "(\\d+)_jsPsych\\.csv$")
# 获取文件的完整路径
file_path <- dirname(file)
# 重命名文件
file.rename(file, file.path(file_path,user_id))
}
}
setwd("C:/Users/Cesare/Desktop/SEE-RE/Measuring_posit_self/6.Raw_data/raw_data/Raw_data_day0/Raw_data_phase_011")
# 遍历每个子文件夹
for (folder in subfolders) {
# 获取子文件夹中所有文件的路径
files <- list.files(folder, full.names = TRUE)
# 过滤出符合命名模式的文件
pattern <- "jsPsych_.*_\\d+_jsPsych\\.csv" # 请根据实际情况调整正则表达式
matched_files <- files[str_detect(files, pattern)]
# 重命名每个文件
for (file in matched_files) {
# 提取用户 ID
user_id <- str_extract(file, "(\\d+)_jsPsych\\.csv$")
# 获取文件的完整路径
file_path <- dirname(file)
# 重命名文件
file.rename(file, file.path(file_path,user_id))
}
}
setwd("C:/Users/Cesare/Desktop/SEE-RE/Measuring_posit_self/6.Raw_data/raw_data/Raw_data_day0")
# 获取 Rawdata 文件夹下所有子文件夹的路径
subfolders <- list.dirs(".", full.names = FALSE, recursive = FALSE)
# 遍历每个子文件夹
for (folder in subfolders) {
# 获取子文件夹中所有文件的路径
files <- list.files(folder, full.names = TRUE)
# 过滤出符合命名模式的文件
pattern <- "jsPsych_.*_\\d+_jsPsych\\.csv" # 请根据实际情况调整正则表达式
matched_files <- files[str_detect(files, pattern)]
# 重命名每个文件
for (file in matched_files) {
# 提取用户 ID
user_id <- str_extract(file, "(\\d+)_jsPsych\\.csv$")
# 获取文件的完整路径
file_path <- dirname(file)
# 重命名文件
file.rename(file, file.path(file_path,user_id))
}
}
# 获取 Rawdata 文件夹下所有子文件夹的路径
subfolders <- list.dirs(".", full.names = FALSE, recursive = FALSE)
# 遍历每个子文件夹
for (folder in subfolders) {
# 获取子文件夹中所有文件的路径
files <- list.files(folder, full.names = TRUE)
# 过滤出符合命名模式的文件
pattern <- "jsPsych_.*_\\d+_jsPsych\\.csv" # 请根据实际情况调整正则表达式
matched_files <- files[str_detect(files, pattern)]
# 重命名每个文件
for (file in matched_files) {
# 提取用户 ID
user_id <- str_extract(file, "(\\d+)_jsPsych\\.csv$")
# 获取文件的完整路径
file_path <- dirname(file)
# 重命名文件
file.rename(file, file.path(file_path,user_id))
}
}
